CC = gcc
LIBS = -lpthread
PHIL = philosophes
P_C = producteurs_consommateurs
R_W = lecteurs_ecrivains
LOCK = test_custom_lock
TS = sem_ts.c ts.c
TTS = sem_tts.c tts.c

all: phil p-c r-w

phil: $(PHIL).c $(TS) $(TTS)
	$(CC) $(PHIL).c $(LIBS) -o $(PHIL).o
	$(CC) $(PHIL)_ts.c $(TS) $(LIBS) -o $(PHIL)_ts.o
	$(CC) $(PHIL)_tts.c $(TTS) $(LIBS) -o $(PHIL)_tts.o

p-c: $(P_C).c $(TS) $(TTS)
	$(CC) $(P_C).c $(LIBS) -o $(P_C).o
	$(CC) $(P_C)_ts.c $(TS) $(LIBS) -o $(P_C)_ts.o
	$(CC) $(P_C)_tts.c $(TTS) $(LIBS) -o $(P_C)_tts.o

r-w: $(R_W).c $(TS) $(TTS)
	$(CC) $(R_W).c $(LIBS) -o $(R_W).o
	$(CC) $(R_W)_ts.c $(TS) $(LIBS) -o $(R_W)_ts.o
	$(CC) $(R_W)_tts.c $(TTS) $(LIBS) -o $(R_W)_tts.o

custom-lock: $(LOCK).c $(TS) $(TTS)
	$(CC) $(LOCK).c $(TS) $(LIBS) -o $(LOCK).o